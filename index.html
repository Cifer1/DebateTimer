<!DOCTYPE html>
<html>
<head>
  <title>Debate Time</title>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/jquery.min.js"></script>
  <!-- <script src="/js/jquery.js"></script> -->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
  <script src="js/materialize.min.js"></script>
  <link type="text/css" rel="stylesheet" href="css/main.css">
</head>

<body>
	<div class="container">
		<button id="start"> Start </button>
		<button id="stop"> Stop </button>
		<button id="1AC"> 1AC </button>
		<button id="1NC"> 1NC </button>
		<button id="1AR"> 1AR </button>
		<button id="1NR"> 2NR </button>
		<button id="2AR"> 2AR </button>
		<button id="CX"> CX </button>
		<button id="affprep"> Aff Prep </button>
		<button id="negprep"> Neg Prep </button>
		<div id="timer"></div>	
		<ul id="messages"></ul>
		<div id="modal1" class="modal">
	      <div class="modal-content">
	        <form id="name_form" >
	          What is your name?
	          <br />
	          <input type="text" id="name" autocomplete = "off" autofocus="autofocus" onfocus="this.select()">
	          <!-- <input type="submit" value="Done"> -->
	        </form>
	      </div>
	      <div class="modal-footer">
	        <a href="#" id="submit_button" class="modal-action modal-close waves-effect waves-green btn-flat">Done</a>
	      </div>
	    </div>		
	</div>

	<script>
		var socket = io();
		function sub(){
			var n=$("#name").val();
			socket.emit('new debater', n);
		}
		$('#start').click(function(){
			socket.emit('start', socket.id);
			return false;
		});
		socket.on('start',function(msg){
			$('#messages').append($('<li>').text(msg+ "started timer");
		});
		$('#stop').click(function(){
			socket.emit('stop', socket.id);
			return false;
		});
		socket.on('stop',function(msg){
			$('#messages').append($('<li>').text(msg+ "stopped timer");
		});
		$('#1AC').click(function(){
			socket.emit('1AC', socket.id);
			return false;
		});
		socket.on('1AC',function(msg){
			$('#timer').append($('<h1>')).text("6:00");
			$('#messages').append($('<li>').text(msg+ " selected 1AC");
		});
		$('#1NC').click(function(){
			//socket.emit('1NC', socket.id);
			return false;
		});
		$('#1AR').click(function(){
			//socket.emit('1AR', socket.id);
			return false;
		});
		$('#2NR').click(function(){
			//socket.emit('2NR', socket.id);
			return false;
		});
		$('#2AR').click(function(){
			//socket.emit('2AR', socket.id);
			return false;
		});
		$('#CX').click(function(){
			//socket.emit('CX', socket.id);
			return false;
		});
		$('#affprep').click(function(){
			//socket.emit('affprep', socket.id);
			return false;
		});
		$('#negprep').click(function(){
			//socket.emit('negprep', socket.id);
			return false;
		});
    	$(document).ready(function(){
     		$('.modal-trigger').leanModal();
     		$("#modal1").openModal(); 
      		$('$')
   	 	});
	    $("#submit_button").click(function(){
	      // $("#name_form").submit(function(e){
	        // e.preventDefault();
	        sub();
	      // });
	    });
	    $(document).keydown(function (event) {
	      if (event.which == 13 || event.keyCode == 13) { 
	        sub();
	        $("#modal1").closeModal();
	        return false;
	      }
	      else return true;
	    });    	 				




